{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useLocation}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MyCourses(){const[purchasedCourses,setPurchasedCourses]=useState([]);const[freeCourses,setFreeCourses]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[paymentMessage,setPaymentMessage]=useState(null);const location=useLocation();const searchParams=new URLSearchParams(location.search);// Check if user came from payment success\nconst paymentSuccess=searchParams.get('payment_success');const orderId=searchParams.get('order_id');const sessionId=searchParams.get('session_id');useEffect(()=>{fetchUserCourses();handlePaymentRedirect();},[]);const handlePaymentRedirect=async()=>{if(paymentSuccess==='true'&&(orderId||sessionId)){try{// Get the token for authorization\nconst token=localStorage.getItem('token');if(!token){setPaymentMessage({type:'error',message:'Please log in to view your courses after payment.'});return;}// Handle checkout success from Stripe - NOW WITH AUTHORIZATION HEADER\nconst response=await axios.get(\"http://localhost:5000/api/orders/checkout-success?session_id=\".concat(sessionId,\"&order_id=\").concat(orderId,\"&payment_success=true\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.data.success){setPaymentMessage({type:'success',message:'Payment successful! Your courses are now available.'});// Remove payment params from URL\nconst newUrl=window.location.pathname;window.history.replaceState({},'',newUrl);// Refresh courses after successful payment\nsetTimeout(()=>{fetchUserCourses();},1000);}}catch(error){var _error$response;console.error('Error handling payment success:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){setPaymentMessage({type:'error',message:'Session expired. Please log in again to view your courses.'});// Optionally redirect to login\n// window.location.href = '/login';\n}else{setPaymentMessage({type:'error',message:'Payment processed but there was an error loading your courses. Please refresh the page.'});}}}else if(searchParams.get('canceled')==='true'){setPaymentMessage({type:'warning',message:'Payment was canceled. Your courses are still in your cart.'});// Remove cancel params from URL\nconst newUrl=window.location.pathname;window.history.replaceState({},'',newUrl);}};// Helper function to get a proper thumbnail URL\nconst getCourseThumbnail=course=>{if(course.thumbnailUrl){// Clean up the URL - remove extra spaces and validate\nconst cleanUrl=course.thumbnailUrl.trim();// Check if it's a valid HTTP/HTTPS URL\nif(cleanUrl.startsWith('http://')||cleanUrl.startsWith('https://')){return cleanUrl;}// If it's a relative path, make it absolute (adjust the base URL as needed)\nif(cleanUrl.startsWith('/')){return\"http://localhost:5000\".concat(cleanUrl);}// If it's just a filename, assume it's in uploads folder\nif(!cleanUrl.includes('/')){return\"http://localhost:5000/uploads/courses/\".concat(cleanUrl);}}// Default fallback - you can replace this with a course-related placeholder\nreturn'/images/default-course-thumbnail.jpg';};const fetchUserCourses=async()=>{try{setLoading(true);setError(null);const token=localStorage.getItem('token');if(!token){setError('Please log in to view your courses.');setLoading(false);return;}// Get user's completed orders (purchased courses)\nconst ordersResponse=await axios.get('http://localhost:5000/api/orders/user-orders',{headers:{'Authorization':\"Bearer \".concat(token)}});console.log('Orders response:',ordersResponse.data);if(ordersResponse.data.orders){// Extract purchased courses from completed orders\nconst purchased=[];const free=[];ordersResponse.data.orders.forEach(order=>{if(order.payment.status==='completed'&&order.items){order.items.forEach(item=>{if(item.course){const courseData={id:item.course._id,title:item.course.title,instructor:item.course.instructor||'Unknown Instructor',price:item.price,thumbnail:getCourseThumbnail(item.course),enrollmentDate:order.createdAt,progress:0,// You'll need to implement progress tracking\nduration:item.course.duration||'N/A',description:item.course.description||'',orderNumber:order.orderNumber,purchaseDate:order.createdAt,completedAt:order.completedAt};if(item.price===0){free.push(courseData);}else{purchased.push(courseData);}}});}});// Remove duplicates (in case user purchased same course multiple times)\nconst uniquePurchased=purchased.filter((course,index,self)=>index===self.findIndex(c=>c.id===course.id));const uniqueFree=free.filter((course,index,self)=>index===self.findIndex(c=>c.id===course.id));setPurchasedCourses(uniquePurchased);setFreeCourses(uniqueFree);}}catch(error){var _error$response2;console.error('Error fetching user courses:',error);setError('Failed to load your courses. Please try again.');// If token is invalid, might need to redirect to login\nif(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===401){setError('Session expired. Please log in again.');// Optionally redirect to login\n// window.location.href = '/login';\n}}finally{setLoading(false);}};const getProgressColor=progress=>{if(progress===100)return'bg-success';if(progress>=70)return'bg-info';if(progress>=40)return'bg-warning';return'bg-danger';};const CourseCard=_ref=>{let{course,isPurchased}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3 col-md-4 col-sm-6 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 shadow-sm border-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:course.thumbnail,className:\"card-img-top\",alt:course.title,style:{height:'230px',objectFit:'cover'},onError:e=>{// Better fallback handling\nconsole.log('Image failed to load:',course.thumbnail);e.target.src='/images/default-course-thumbnail.jpg';}}),/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 end-0 m-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(isPurchased?'bg-primary':'bg-success'),children:isPurchased?'Purchased':'Free'})}),course.progress===100&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 start-0 m-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill me-1\"}),\"Completed\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title text-truncate\",title:course.title,children:course.title}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-fill me-1\"}),course.instructor]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock-fill me-1\"}),course.duration]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[course.progress,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{height:'6px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar \".concat(getProgressColor(course.progress)),role:\"progressbar\",style:{width:\"\".concat(course.progress,\"%\")},\"aria-valuenow\":course.progress,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto\",children:/*#__PURE__*/_jsxs(Link,{to:\"/course/\".concat(course.id,\"/learning\"),className:\"btn btn-primary w-100\",children:[course.progress===100?'Review Course':'Start Learning',/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-right ms-2\"})]})})]})]})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-muted\",children:\"Loading your courses...\"})]})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle-fill me-2\"}),error]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>window.location.reload(),children:\"Retry\"})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",children:[paymentMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-\".concat(paymentMessage.type,\" alert-dismissible fade show\"),role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(paymentMessage.type==='success'?'bi-check-circle-fill':paymentMessage.type==='error'?'bi-exclamation-triangle-fill':'bi-info-circle-fill',\" me-2\")}),paymentMessage.message,/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setPaymentMessage(null)})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-secondary mb-2\",children:\"My Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Continue your learning journey with your enrolled courses\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 mt-md-0\",children:/*#__PURE__*/_jsxs(Link,{to:\"/courses\",className:\"btn btn-outline-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search me-2\"}),\"Browse More Courses\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5 justify-content-around\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-primary text-white text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body py-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-1\",children:purchasedCourses.length+freeCourses.length}),/*#__PURE__*/_jsx(\"small\",{children:\"Total Courses\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-success text-white text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body py-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-1\",children:[...purchasedCourses,...freeCourses].filter(c=>c.progress===100).length}),/*#__PURE__*/_jsx(\"small\",{children:\"Completed\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-warning text-white text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body py-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-1\",children:[...purchasedCourses,...freeCourses].filter(c=>c.progress>0&&c.progress<100).length}),/*#__PURE__*/_jsx(\"small\",{children:\"In Progress\"})]})})})]})]})}),purchasedCourses.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"row mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h3 mb-0 me-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-cart-check-fill text-primary me-2\"}),\"Purchased Courses\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-primary rounded-pill\",children:purchasedCourses.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:purchasedCourses.map(course=>/*#__PURE__*/_jsx(CourseCard,{course:course,isPurchased:true},course.id))})]})}),freeCourses.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"row mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h3 mb-0 me-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-gift-fill text-success me-2\"}),\"Free Courses\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success rounded-pill\",children:freeCourses.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:freeCourses.map(course=>/*#__PURE__*/_jsx(CourseCard,{course:course,isPurchased:false},course.id))})]})}),purchasedCourses.length===0&&freeCourses.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-book display-1 text-muted mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-muted mb-3\",children:\"No Courses Yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:\"You haven't purchased any courses yet. Start your learning journey today!\"}),/*#__PURE__*/_jsxs(Link,{to:\"/courses\",className:\"btn btn-primary btn-lg\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search me-2\"}),\"Browse Courses\"]})]})})})]});}export default MyCourses;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","axios","jsx","_jsx","jsxs","_jsxs","MyCourses","purchasedCourses","setPurchasedCourses","freeCourses","setFreeCourses","loading","setLoading","error","setError","paymentMessage","setPaymentMessage","location","searchParams","URLSearchParams","search","paymentSuccess","get","orderId","sessionId","fetchUserCourses","handlePaymentRedirect","token","localStorage","getItem","type","message","response","concat","headers","data","success","newUrl","window","pathname","history","replaceState","setTimeout","_error$response","console","status","getCourseThumbnail","course","thumbnailUrl","cleanUrl","trim","startsWith","includes","ordersResponse","log","orders","purchased","free","forEach","order","payment","items","item","courseData","id","_id","title","instructor","price","thumbnail","enrollmentDate","createdAt","progress","duration","description","orderNumber","purchaseDate","completedAt","push","uniquePurchased","filter","index","self","findIndex","c","uniqueFree","_error$response2","getProgressColor","CourseCard","_ref","isPurchased","className","children","src","alt","style","height","objectFit","onError","e","target","role","width","to","onClick","reload","length","map"],"sources":["D:/Edu Project/mern-auth-frontend/src/pages/User/MyCourses.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction MyCourses() {\r\n  const [purchasedCourses, setPurchasedCourses] = useState([]);\r\n  const [freeCourses, setFreeCourses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [paymentMessage, setPaymentMessage] = useState(null);\r\n  \r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  \r\n  // Check if user came from payment success\r\n  const paymentSuccess = searchParams.get('payment_success');\r\n  const orderId = searchParams.get('order_id');\r\n  const sessionId = searchParams.get('session_id');\r\n\r\n  useEffect(() => {\r\n    fetchUserCourses();\r\n    handlePaymentRedirect();\r\n  }, []);\r\n\r\n  const handlePaymentRedirect = async () => {\r\n    if (paymentSuccess === 'true' && (orderId || sessionId)) {\r\n      try {\r\n        // Get the token for authorization\r\n        const token = localStorage.getItem('token');\r\n        \r\n        if (!token) {\r\n          setPaymentMessage({\r\n            type: 'error',\r\n            message: 'Please log in to view your courses after payment.'\r\n          });\r\n          return;\r\n        }\r\n\r\n        // Handle checkout success from Stripe - NOW WITH AUTHORIZATION HEADER\r\n        const response = await axios.get(\r\n          `http://localhost:5000/api/orders/checkout-success?session_id=${sessionId}&order_id=${orderId}&payment_success=true`,\r\n          {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          }\r\n        );\r\n        \r\n        if (response.data.success) {\r\n          setPaymentMessage({\r\n            type: 'success',\r\n            message: 'Payment successful! Your courses are now available.'\r\n          });\r\n          \r\n          // Remove payment params from URL\r\n          const newUrl = window.location.pathname;\r\n          window.history.replaceState({}, '', newUrl);\r\n          \r\n          // Refresh courses after successful payment\r\n          setTimeout(() => {\r\n            fetchUserCourses();\r\n          }, 1000);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error handling payment success:', error);\r\n        \r\n        if (error.response?.status === 401) {\r\n          setPaymentMessage({\r\n            type: 'error',\r\n            message: 'Session expired. Please log in again to view your courses.'\r\n          });\r\n          // Optionally redirect to login\r\n          // window.location.href = '/login';\r\n        } else {\r\n          setPaymentMessage({\r\n            type: 'error',\r\n            message: 'Payment processed but there was an error loading your courses. Please refresh the page.'\r\n          });\r\n        }\r\n      }\r\n    } else if (searchParams.get('canceled') === 'true') {\r\n      setPaymentMessage({\r\n        type: 'warning',\r\n        message: 'Payment was canceled. Your courses are still in your cart.'\r\n      });\r\n      \r\n      // Remove cancel params from URL\r\n      const newUrl = window.location.pathname;\r\n      window.history.replaceState({}, '', newUrl);\r\n    }\r\n  };\r\n\r\n  // Helper function to get a proper thumbnail URL\r\n  const getCourseThumbnail = (course) => {\r\n    if (course.thumbnailUrl) {\r\n      // Clean up the URL - remove extra spaces and validate\r\n      const cleanUrl = course.thumbnailUrl.trim();\r\n      \r\n      // Check if it's a valid HTTP/HTTPS URL\r\n      if (cleanUrl.startsWith('http://') || cleanUrl.startsWith('https://')) {\r\n        return cleanUrl;\r\n      }\r\n      \r\n      // If it's a relative path, make it absolute (adjust the base URL as needed)\r\n      if (cleanUrl.startsWith('/')) {\r\n        return `http://localhost:5000${cleanUrl}`;\r\n      }\r\n      \r\n      // If it's just a filename, assume it's in uploads folder\r\n      if (!cleanUrl.includes('/')) {\r\n        return `http://localhost:5000/uploads/courses/${cleanUrl}`;\r\n      }\r\n    }\r\n    \r\n    // Default fallback - you can replace this with a course-related placeholder\r\n    return '/images/default-course-thumbnail.jpg';\r\n  };\r\n\r\n  const fetchUserCourses = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setError('Please log in to view your courses.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      // Get user's completed orders (purchased courses)\r\n      const ordersResponse = await axios.get('http://localhost:5000/api/orders/user-orders', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      console.log('Orders response:', ordersResponse.data);\r\n\r\n      if (ordersResponse.data.orders) {\r\n        // Extract purchased courses from completed orders\r\n        const purchased = [];\r\n        const free = [];\r\n\r\n        ordersResponse.data.orders.forEach(order => {\r\n          if (order.payment.status === 'completed' && order.items) {\r\n            order.items.forEach(item => {\r\n              if (item.course) {\r\n                const courseData = {\r\n                  id: item.course._id,\r\n                  title: item.course.title,\r\n                  instructor: item.course.instructor || 'Unknown Instructor',\r\n                  price: item.price,\r\n                  thumbnail: getCourseThumbnail(item.course),\r\n                  enrollmentDate: order.createdAt,\r\n                  progress: 0, // You'll need to implement progress tracking\r\n                  duration: item.course.duration || 'N/A',\r\n                  description: item.course.description || '',\r\n                  orderNumber: order.orderNumber,\r\n                  purchaseDate: order.createdAt,\r\n                  completedAt: order.completedAt\r\n                };\r\n\r\n                if (item.price === 0) {\r\n                  free.push(courseData);\r\n                } else {\r\n                  purchased.push(courseData);\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        // Remove duplicates (in case user purchased same course multiple times)\r\n        const uniquePurchased = purchased.filter((course, index, self) =>\r\n          index === self.findIndex(c => c.id === course.id)\r\n        );\r\n        \r\n        const uniqueFree = free.filter((course, index, self) =>\r\n          index === self.findIndex(c => c.id === course.id)\r\n        );\r\n\r\n        setPurchasedCourses(uniquePurchased);\r\n        setFreeCourses(uniqueFree);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching user courses:', error);\r\n      setError('Failed to load your courses. Please try again.');\r\n      \r\n      // If token is invalid, might need to redirect to login\r\n      if (error.response?.status === 401) {\r\n        setError('Session expired. Please log in again.');\r\n        // Optionally redirect to login\r\n        // window.location.href = '/login';\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getProgressColor = (progress) => {\r\n    if (progress === 100) return 'bg-success';\r\n    if (progress >= 70) return 'bg-info';\r\n    if (progress >= 40) return 'bg-warning';\r\n    return 'bg-danger';\r\n  };\r\n\r\n  const CourseCard = ({ course, isPurchased }) => (\r\n    <div className=\"col-12 col-lg-3 col-md-4 col-sm-6 mb-5\">\r\n      <div className=\"card h-100 shadow-sm border-0\">\r\n        <div className=\"position-relative\">\r\n          <img\r\n            src={course.thumbnail}\r\n            className=\"card-img-top\"\r\n            alt={course.title}\r\n            style={{ height: '230px', objectFit: 'cover' }}\r\n            onError={(e) => {\r\n              // Better fallback handling\r\n              console.log('Image failed to load:', course.thumbnail);\r\n              e.target.src = '/images/default-course-thumbnail.jpg';\r\n            }}\r\n          />\r\n          <div className=\"position-absolute top-0 end-0 m-2\">\r\n            <span className={`badge ${isPurchased ? 'bg-primary' : 'bg-success'}`}>\r\n              {isPurchased ? 'Purchased' : 'Free'}\r\n            </span>\r\n          </div>\r\n          {course.progress === 100 && (\r\n            <div className=\"position-absolute top-0 start-0 m-2\">\r\n              <span className=\"badge bg-success\">\r\n                <i className=\"bi bi-check-circle-fill me-1\"></i>\r\n                Completed\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"card-body d-flex flex-column\">\r\n          <h5 className=\"card-title text-truncate\" title={course.title}>\r\n            {course.title}\r\n          </h5>\r\n          \r\n          <div className=\"mb-2\">\r\n            <small className=\"text-muted\">\r\n              <i className=\"bi bi-person-fill me-1\"></i>\r\n              {course.instructor}\r\n            </small>\r\n          </div>\r\n          \r\n          <div className=\"mb-2\">\r\n            <small className=\"text-muted\">\r\n              <i className=\"bi bi-clock-fill me-1\"></i>\r\n              {course.duration}\r\n            </small>\r\n          </div>\r\n          \r\n          {/* Progress Bar */}\r\n          <div className=\"mb-3\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-1\">\r\n              <small className=\"text-muted\">Progress</small>\r\n              <small className=\"text-muted\">{course.progress}%</small>\r\n            </div>\r\n            <div className=\"progress\" style={{ height: '6px' }}>\r\n              <div\r\n                className={`progress-bar ${getProgressColor(course.progress)}`}\r\n                role=\"progressbar\"\r\n                style={{ width: `${course.progress}%` }}\r\n                aria-valuenow={course.progress}\r\n                aria-valuemin=\"0\"\r\n                aria-valuemax=\"100\"\r\n              ></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-auto\">\r\n            <Link\r\n              to={`/course/${course.id}/learning`}\r\n              className=\"btn btn-primary w-100\"\r\n            >\r\n              {course.progress === 100 ? 'Review Course' : 'Start Learning'}\r\n              <i className=\"bi bi-arrow-right ms-2\"></i>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container-fluid py-5\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 text-center\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n            <p className=\"mt-3 text-muted\">Loading your courses...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"container-fluid py-5\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-md-6 text-center\">\r\n            <div className=\"alert alert-danger\">\r\n              <i className=\"bi bi-exclamation-triangle-fill me-2\"></i>\r\n              {error}\r\n            </div>\r\n            <button \r\n              className=\"btn btn-primary\" \r\n              onClick={() => window.location.reload()}\r\n            >\r\n              Retry\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid py-4\">\r\n      {/* Payment Success/Error Message */}\r\n      {paymentMessage && (\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-12\">\r\n            <div className={`alert alert-${paymentMessage.type} alert-dismissible fade show`} role=\"alert\">\r\n              <i className={`bi ${paymentMessage.type === 'success' ? 'bi-check-circle-fill' : \r\n                paymentMessage.type === 'error' ? 'bi-exclamation-triangle-fill' : 'bi-info-circle-fill'} me-2`}></i>\r\n              {paymentMessage.message}\r\n              <button \r\n                type=\"button\" \r\n                className=\"btn-close\" \r\n                onClick={() => setPaymentMessage(null)}\r\n              ></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header Section */}\r\n      <div className=\"row mb-4\">\r\n        <div className=\"col-12\">\r\n          <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4\">\r\n            <div>\r\n              <h1 className=\"display-5 fw-bold text-secondary mb-2\">My Courses</h1>\r\n              <p className=\"text-muted mb-0\">\r\n                Continue your learning journey with your enrolled courses\r\n              </p>\r\n            </div>\r\n            <div className=\"mt-3 mt-md-0\">\r\n              <Link to=\"/courses\" className=\"btn btn-outline-primary\">\r\n                <i className=\"bi bi-search me-2\"></i>\r\n                Browse More Courses\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Stats Cards */}\r\n          <div className=\"row my-5 justify-content-around\">\r\n            <div className=\"col-4 col-md-3\">\r\n              <div className=\"card bg-primary text-white text-center\">\r\n                <div className=\"card-body py-3\">\r\n                  <h4 className=\"mb-1\">{purchasedCourses.length + freeCourses.length}</h4>\r\n                  <small>Total Courses</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4 col-md-3\">\r\n              <div className=\"card bg-success text-white text-center\">\r\n                <div className=\"card-body py-3\">\r\n                  <h4 className=\"mb-1\">\r\n                    {[...purchasedCourses, ...freeCourses].filter(c => c.progress === 100).length}\r\n                  </h4>\r\n                  <small>Completed</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-4 col-md-3\">\r\n              <div className=\"card bg-warning text-white text-center\">\r\n                <div className=\"card-body py-3\">\r\n                  <h4 className=\"mb-1\">\r\n                    {[...purchasedCourses, ...freeCourses].filter(c => c.progress > 0 && c.progress < 100).length}\r\n                  </h4>\r\n                  <small>In Progress</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Purchased Courses Section */}\r\n      {purchasedCourses.length > 0 && (\r\n        <div className=\"row mb-5\">\r\n          <div className=\"col-12\">\r\n            <div className=\"d-flex align-items-center mb-4\">\r\n              <h2 className=\"h3 mb-0 me-3\">\r\n                <i className=\"bi bi-cart-check-fill text-primary me-2\"></i>\r\n                Purchased Courses\r\n              </h2>\r\n              <span className=\"badge bg-primary rounded-pill\">\r\n                {purchasedCourses.length}\r\n              </span>\r\n            </div>\r\n            <div className=\"row\">\r\n              {purchasedCourses.map((course) => (\r\n                <CourseCard key={course.id} course={course} isPurchased={true} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Free Courses Section */}\r\n      {freeCourses.length > 0 && (\r\n        <div className=\"row mb-5\">\r\n          <div className=\"col-12\">\r\n            <div className=\"d-flex align-items-center mb-4\">\r\n              <h2 className=\"h3 mb-0 me-3\">\r\n                <i className=\"bi bi-gift-fill text-success me-2\"></i>\r\n                Free Courses\r\n              </h2>\r\n              <span className=\"badge bg-success rounded-pill\">\r\n                {freeCourses.length}\r\n              </span>\r\n            </div>\r\n            <div className=\"row\">\r\n              {freeCourses.map((course) => (\r\n                <CourseCard key={course.id} course={course} isPurchased={false} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Empty State */}\r\n      {purchasedCourses.length === 0 && freeCourses.length === 0 && (\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"text-center py-5\">\r\n              <i className=\"bi bi-book display-1 text-muted mb-4\"></i>\r\n              <h3 className=\"text-muted mb-3\">No Courses Yet</h3>\r\n              <p className=\"text-muted mb-4\">\r\n                You haven't purchased any courses yet. Start your learning journey today!\r\n              </p>\r\n              <Link to=\"/courses\" className=\"btn btn-primary btn-lg\">\r\n                <i className=\"bi bi-search me-2\"></i>\r\n                Browse Courses\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyCourses;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
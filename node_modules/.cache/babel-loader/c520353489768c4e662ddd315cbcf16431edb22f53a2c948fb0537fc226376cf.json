{"ast":null,"code":"var _jsxFileName = \"D:\\\\Edu Project\\\\mern-auth-frontend\\\\src\\\\components\\\\CourseCard.jsx\",\n  _s = $RefreshSig$();\n// src/components/CourseCard.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./CourseCard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CourseCard({\n  course,\n  onFavouriteToggle,\n  showToast\n}) {\n  _s();\n  var _course$title, _course$description;\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Get the course ID - handle both MongoDB _id and regular id\n  const getCourseId = () => {\n    return course._id || course.id;\n  };\n\n  // Check if user is authenticated\n  const isUserAuthenticated = () => {\n    const token = localStorage.getItem('authToken') || localStorage.getItem('token');\n    const userData = localStorage.getItem('userData') || localStorage.getItem('user');\n    return !!(token || userData);\n  };\n\n  // Get auth token for API calls\n  const getAuthToken = () => {\n    return localStorage.getItem('authToken') || localStorage.getItem('token');\n  };\n\n  // Check favorite status from backend\n  const checkFavoriteStatus = async () => {\n    try {\n      if (!isUserAuthenticated()) {\n        setIsFavorite(false);\n        return;\n      }\n      const courseId = getCourseId();\n      if (!courseId) return;\n      const token = getAuthToken();\n      const response = await fetch(`http://localhost:5000/api/favorites/check/${courseId}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setIsFavorite(data.isFavorite);\n      }\n    } catch (error) {\n      console.error('Error checking favorite status:', error);\n    }\n  };\n  useEffect(() => {\n    checkFavoriteStatus();\n  }, [course._id, course.id]);\n  const handleFavoriteToggle = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Check if user is authenticated first\n    if (!isUserAuthenticated()) {\n      if (showToast) {\n        showToast('Please login to add courses to favorites', 'info');\n      }\n      setTimeout(() => {\n        navigate('/login');\n      }, 1500);\n      return;\n    }\n    try {\n      setIsLoading(true);\n      const courseId = getCourseId();\n      if (!courseId) {\n        console.error('No valid course ID found');\n        if (showToast) {\n          showToast('Error: Course ID not found', 'error');\n        }\n        return;\n      }\n      const token = getAuthToken();\n      let response;\n      let message;\n      if (isFavorite) {\n        // Remove from favorites\n        response = await fetch(`http://localhost:5000/api/favorites/${courseId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        message = 'Removed from favorites';\n      } else {\n        // Add to favorites\n        response = await fetch('http://localhost:5000/api/favorites', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            courseId\n          })\n        });\n        message = 'Added to favorites';\n      }\n      if (response.ok) {\n        setIsFavorite(!isFavorite);\n        if (showToast) {\n          showToast(message, 'success');\n        }\n\n        // Call parent callback if provided\n        if (onFavouriteToggle) {\n          onFavouriteToggle(courseId, !isFavorite);\n        }\n      } else {\n        const errorData = await response.json();\n        if (response.status === 409) {\n          // Course already in favorites - sync the state\n          setIsFavorite(true);\n          if (showToast) {\n            showToast('Course already in favorites', 'info');\n          }\n        } else {\n          throw new Error(errorData.message || 'Failed to update favorites');\n        }\n      }\n    } catch (error) {\n      console.error('Error toggling favorite:', error);\n      if (showToast) {\n        showToast(error.message || 'Error updating favorites', 'error');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle image URL - use thumbnailUrl from backend if available, otherwise fallback to image\n  const getImageUrl = () => {\n    if (course.thumbnailUrl) {\n      return `http://localhost:5000${course.thumbnailUrl}`;\n    }\n    return course.image || '/default-course-image.jpg';\n  };\n\n  // Get price display text\n  const getPriceDisplay = () => {\n    if (course.isFree) {\n      return \"Free\";\n    }\n    const price = course.price || 0;\n    return price === 0 ? \"Free\" : `â‚¹${price}`;\n  };\n\n  // Handle instructor click - navigate to instructor profile\n  const handleInstructorClick = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    try {\n      // First, try to find the instructor by name\n      const response = await fetch(`http://localhost:5000/api/instructors/search?name=${encodeURIComponent(course.instructor)}`);\n      if (response.ok) {\n        const instructorData = await response.json();\n        if (instructorData && instructorData._id) {\n          navigate(`/instructor/${instructorData._id}`);\n        } else {\n          // If no instructor found, show a message\n          if (showToast) {\n            showToast('Instructor profile not found', 'info');\n          }\n        }\n      } else {\n        // If API call fails, show error\n        if (showToast) {\n          showToast('Unable to load instructor profile', 'error');\n        }\n      }\n    } catch (error) {\n      console.error('Error finding instructor:', error);\n      if (showToast) {\n        showToast('Error loading instructor profile', 'error');\n      }\n    }\n  };\n  const courseId = getCourseId();\n\n  // If no valid course ID, show error state\n  if (!courseId) {\n    console.error('Course missing ID:', course);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow-sm course-card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title text-danger\",\n          children: \"Error: Invalid Course Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: \"Course ID is missing or invalid.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  }\n  const isAuthenticated = isUserAuthenticated();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow-sm course-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course-image-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: getImageUrl(),\n        className: \"card-img-top\",\n        alt: course.title,\n        style: {\n          height: \"180px\",\n          objectFit: \"cover\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body d-flex flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"card-title\",\n        children: ((_course$title = course.title) === null || _course$title === void 0 ? void 0 : _course$title.slice(0, 50)) || \"Untitled Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text\",\n        children: [((_course$description = course.description) === null || _course$description === void 0 ? void 0 : _course$description.slice(0, 100)) || \"No description available\", \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), course.instructor && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Instructor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-link p-0 ms-1 text-decoration-none instructor-link\",\n          onClick: handleInstructorClick,\n          style: {\n            color: '#0066cc',\n            border: 'none',\n            background: 'none',\n            fontSize: 'inherit',\n            fontWeight: 'normal',\n            textAlign: 'left',\n            cursor: 'pointer'\n          },\n          onMouseEnter: e => {\n            e.target.style.textDecoration = 'underline';\n            e.target.style.color = '#004499';\n          },\n          onMouseLeave: e => {\n            e.target.style.textDecoration = 'none';\n            e.target.style.color = '#0066cc';\n          },\n          title: \"View instructor profile\",\n          children: course.instructor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-success mb-3\",\n        children: getPriceDisplay()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto position-relative\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/courses/${courseId}`,\n          className: \"btn btn-primary w-100\",\n          children: \"View Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `favorite-btn ${isFavorite ? 'favorite-active' : ''} ${!isAuthenticated ? 'favorite-disabled' : ''}`,\n          onClick: handleFavoriteToggle,\n          disabled: isLoading,\n          title: !isAuthenticated ? 'Login to add to favorites' : isLoading ? 'Loading...' : isFavorite ? 'Remove from favorites' : 'Add to favorites',\n          \"aria-label\": !isAuthenticated ? 'Login to add to favorites' : isLoading ? 'Loading...' : isFavorite ? 'Remove from favorites' : 'Add to favorites',\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-arrow-repeat spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `bi ${isFavorite ? 'bi-heart-fill' : 'bi-heart'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n}\n_s(CourseCard, \"lKqAamgXpUWCacNqk4TnFHuya88=\", false, function () {\n  return [useNavigate];\n});\n_c = CourseCard;\nexport default CourseCard;\nvar _c;\n$RefreshReg$(_c, \"CourseCard\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","jsxDEV","_jsxDEV","CourseCard","course","onFavouriteToggle","showToast","_s","_course$title","_course$description","isFavorite","setIsFavorite","isLoading","setIsLoading","navigate","getCourseId","_id","id","isUserAuthenticated","token","localStorage","getItem","userData","getAuthToken","checkFavoriteStatus","courseId","response","fetch","method","headers","ok","data","json","error","console","handleFavoriteToggle","e","preventDefault","stopPropagation","setTimeout","message","body","JSON","stringify","errorData","status","Error","getImageUrl","thumbnailUrl","image","getPriceDisplay","isFree","price","handleInstructorClick","encodeURIComponent","instructor","instructorData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isAuthenticated","src","alt","title","style","height","objectFit","slice","description","onClick","color","border","background","fontSize","fontWeight","textAlign","cursor","onMouseEnter","target","textDecoration","onMouseLeave","to","disabled","_c","$RefreshReg$"],"sources":["D:/Edu Project/mern-auth-frontend/src/components/CourseCard.jsx"],"sourcesContent":["// src/components/CourseCard.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"./CourseCard.css\";\r\n\r\nfunction CourseCard({ course, onFavouriteToggle, showToast }) {\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Get the course ID - handle both MongoDB _id and regular id\r\n  const getCourseId = () => {\r\n    return course._id || course.id;\r\n  };\r\n\r\n  // Check if user is authenticated\r\n  const isUserAuthenticated = () => {\r\n    const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n    const userData = localStorage.getItem('userData') || localStorage.getItem('user');\r\n    return !!(token || userData);\r\n  };\r\n\r\n  // Get auth token for API calls\r\n  const getAuthToken = () => {\r\n    return localStorage.getItem('authToken') || localStorage.getItem('token');\r\n  };\r\n\r\n  // Check favorite status from backend\r\n  const checkFavoriteStatus = async () => {\r\n    try {\r\n      if (!isUserAuthenticated()) {\r\n        setIsFavorite(false);\r\n        return;\r\n      }\r\n\r\n      const courseId = getCourseId();\r\n      if (!courseId) return;\r\n\r\n      const token = getAuthToken();\r\n      const response = await fetch(`http://localhost:5000/api/favorites/check/${courseId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setIsFavorite(data.isFavorite);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking favorite status:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkFavoriteStatus();\r\n  }, [course._id, course.id]);\r\n\r\n  const handleFavoriteToggle = async (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    // Check if user is authenticated first\r\n    if (!isUserAuthenticated()) {\r\n      if (showToast) {\r\n        showToast('Please login to add courses to favorites', 'info');\r\n      }\r\n      \r\n      setTimeout(() => {\r\n        navigate('/login');\r\n      }, 1500);\r\n      \r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const courseId = getCourseId();\r\n      \r\n      if (!courseId) {\r\n        console.error('No valid course ID found');\r\n        if (showToast) {\r\n          showToast('Error: Course ID not found', 'error');\r\n        }\r\n        return;\r\n      }\r\n\r\n      const token = getAuthToken();\r\n      let response;\r\n      let message;\r\n\r\n      if (isFavorite) {\r\n        // Remove from favorites\r\n        response = await fetch(`http://localhost:5000/api/favorites/${courseId}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n        message = 'Removed from favorites';\r\n      } else {\r\n        // Add to favorites\r\n        response = await fetch('http://localhost:5000/api/favorites', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ courseId }),\r\n        });\r\n        message = 'Added to favorites';\r\n      }\r\n\r\n      if (response.ok) {\r\n        setIsFavorite(!isFavorite);\r\n        \r\n        if (showToast) {\r\n          showToast(message, 'success');\r\n        }\r\n\r\n        // Call parent callback if provided\r\n        if (onFavouriteToggle) {\r\n          onFavouriteToggle(courseId, !isFavorite);\r\n        }\r\n      } else {\r\n        const errorData = await response.json();\r\n        \r\n        if (response.status === 409) {\r\n          // Course already in favorites - sync the state\r\n          setIsFavorite(true);\r\n          if (showToast) {\r\n            showToast('Course already in favorites', 'info');\r\n          }\r\n        } else {\r\n          throw new Error(errorData.message || 'Failed to update favorites');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling favorite:', error);\r\n      \r\n      if (showToast) {\r\n        showToast(error.message || 'Error updating favorites', 'error');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle image URL - use thumbnailUrl from backend if available, otherwise fallback to image\r\n  const getImageUrl = () => {\r\n    if (course.thumbnailUrl) {\r\n      return `http://localhost:5000${course.thumbnailUrl}`;\r\n    }\r\n    return course.image || '/default-course-image.jpg';\r\n  };\r\n\r\n  // Get price display text\r\n  const getPriceDisplay = () => {\r\n    if (course.isFree) {\r\n      return \"Free\";\r\n    }\r\n    \r\n    const price = course.price || 0;\r\n    return price === 0 ? \"Free\" : `â‚¹${price}`;\r\n  };\r\n\r\n  // Handle instructor click - navigate to instructor profile\r\n  const handleInstructorClick = async (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    try {\r\n      // First, try to find the instructor by name\r\n      const response = await fetch(`http://localhost:5000/api/instructors/search?name=${encodeURIComponent(course.instructor)}`);\r\n      \r\n      if (response.ok) {\r\n        const instructorData = await response.json();\r\n        if (instructorData && instructorData._id) {\r\n          navigate(`/instructor/${instructorData._id}`);\r\n        } else {\r\n          // If no instructor found, show a message\r\n          if (showToast) {\r\n            showToast('Instructor profile not found', 'info');\r\n          }\r\n        }\r\n      } else {\r\n        // If API call fails, show error\r\n        if (showToast) {\r\n          showToast('Unable to load instructor profile', 'error');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error finding instructor:', error);\r\n      if (showToast) {\r\n        showToast('Error loading instructor profile', 'error');\r\n      }\r\n    }\r\n  };\r\n\r\n  const courseId = getCourseId();\r\n\r\n  // If no valid course ID, show error state\r\n  if (!courseId) {\r\n    console.error('Course missing ID:', course);\r\n    return (\r\n      <div className=\"card shadow-sm course-card\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title text-danger\">Error: Invalid Course Data</h5>\r\n          <p className=\"card-text\">Course ID is missing or invalid.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isAuthenticated = isUserAuthenticated();\r\n\r\n  return (\r\n    <div className=\"card shadow-sm course-card\">\r\n      <div className=\"course-image-wrapper\">\r\n        <img\r\n          src={getImageUrl()}\r\n          className=\"card-img-top\"\r\n          alt={course.title}\r\n          style={{ height: \"180px\", objectFit: \"cover\" }}\r\n        />\r\n      </div>\r\n      <div className=\"card-body d-flex flex-column\">\r\n        <h5 className=\"card-title\">{course.title?.slice(0, 50) || \"Untitled Course\"}</h5>\r\n        <p className=\"card-text\">\r\n          {course.description?.slice(0, 100) || \"No description available\"}...\r\n        </p>\r\n\r\n        {/* Updated instructor section - now clickable */}\r\n        {course.instructor && (\r\n          <p className=\"text-muted mb-2\">\r\n            <strong>Instructor:</strong> \r\n            <button\r\n              className=\"btn btn-link p-0 ms-1 text-decoration-none instructor-link\"\r\n              onClick={handleInstructorClick}\r\n              style={{ \r\n                color: '#0066cc', \r\n                border: 'none',\r\n                background: 'none',\r\n                fontSize: 'inherit',\r\n                fontWeight: 'normal',\r\n                textAlign: 'left',\r\n                cursor: 'pointer'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.textDecoration = 'underline';\r\n                e.target.style.color = '#004499';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.textDecoration = 'none';\r\n                e.target.style.color = '#0066cc';\r\n              }}\r\n              title=\"View instructor profile\"\r\n            >\r\n              {course.instructor}\r\n            </button>\r\n          </p>\r\n        )}\r\n\r\n        <p className=\"text-success mb-3\">\r\n          {getPriceDisplay()}\r\n        </p>\r\n\r\n        <div className=\"mt-auto position-relative\">\r\n          <Link to={`/courses/${courseId}`} className=\"btn btn-primary w-100\">\r\n            View Course\r\n          </Link>\r\n          {/* Favorite Button */}\r\n          <button\r\n            className={`favorite-btn ${isFavorite ? 'favorite-active' : ''} ${!isAuthenticated ? 'favorite-disabled' : ''}`}\r\n            onClick={handleFavoriteToggle}\r\n            disabled={isLoading}\r\n            title={\r\n              !isAuthenticated \r\n                ? 'Login to add to favorites' \r\n                : isLoading\r\n                  ? 'Loading...'\r\n                  : isFavorite \r\n                    ? 'Remove from favorites' \r\n                    : 'Add to favorites'\r\n            }\r\n            aria-label={\r\n              !isAuthenticated \r\n                ? 'Login to add to favorites' \r\n                : isLoading\r\n                  ? 'Loading...'\r\n                  : isFavorite \r\n                    ? 'Remove from favorites' \r\n                    : 'Add to favorites'\r\n            }\r\n          >\r\n            {isLoading ? (\r\n              <i className=\"bi bi-arrow-repeat spin\"></i>\r\n            ) : (\r\n              <i className={`bi ${isFavorite ? 'bi-heart-fill' : 'bi-heart'}`}></i>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CourseCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}